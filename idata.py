instr_signatures = {
    "halt": (0, 1),
    "call": (0, 1),
    "jmp":  (0, 1),
    "jnz":  (0, 2),
    "jz":   (0, 2),
    "sb":   (0, 2),
    "si":   (0, 2),
    "ss":   (0, 2),
    "sw":   (0, 2),
    "dec":  (1, 0),
    "inc":  (1, 0),
    "neg":  (1, 0),
    "rand": (1, 0),
    "push": (1, 1),
    "lb":   (1, 1),
    "lbu":  (1, 1),
    "ls":   (1, 1),
    "lsu":  (1, 1),
    "li":   (1, 1),
    "liu":  (1, 1),
    "lw":   (1, 1),
    "mov":  (1, 1),
    "not":  (1, 1),
    "pop":  (2, 0),
    "add":  (1, 2),
    "and":  (1, 2),
    "cmp":  (1, 2),
    "ge":   (1, 2),
    "geq":  (1, 2),
    "gequ": (1, 2),
    "geu":  (1, 2),
    "le":   (1, 2),
    "leq":  (1, 2),
    "lequ": (1, 2),
    "leu":  (1, 2),
    "neq":  (1, 2),
    "or":   (1, 2),
    "sal":  (1, 2),
    "sar":  (1, 2),
    "shl":  (1, 2),
    "shr":  (1, 2),
    "sub":  (1, 2),
    "xor":  (1, 2),
    "div":  (2, 2),
    "divu": (2, 2),
    "mul":  (2, 2),
    "mulu": (2, 2),
}


instr_ids = {
    "not":  0x00,
    "or":   0x01,
    "xor":  0x02,
    "and":  0x03,
    "shl":  0x04,
    "shr":  0x05,
    "sar":  0x06,
    "add":  0x07,
    "sub":  0x08,
    "cmp":  0x09,
    "neq":  0x0a,
    "le":   0x0b,
    "leq":  0x0c,
    "leu":  0x0d,
    "lequ": 0x0e,
    "mul":  0x0f,
    "mulu": 0x10,
    "div":  0x11,
    "divu": 0x12,
    "lb":   0x13,
    "lbu":  0x14,
    "ls":   0x15,
    "lsu":  0x16,
    "li":   0x17,
    "liu":  0x18,
    "lw":   0x19,
    "sb":   0x1a,
    "ss":   0x1b,
    "si":   0x1c,
    "sw":   0x1d,
    "rand": 0x1e,
    "call": 0x1f,
    "jz":   0x20,
    "jnz":  0x21,
    "halt": 0x22,
    "ret":  0x7f,
}

instr_names = {v: k for k, v in instr_ids.items()}

cycle_counts  = {
    "not":  1,
    "or":   1,
    "xor":  1,
    "and":  1,
    "shl":  1,
    "shr":  1,
    "sar":  1,
    "add":  1,
    "sub":  1,
    "cmp":  1,
    "neq":  1,
    "le":   1,
    "leq":  1,
    "leu":  1,
    "lequ": 1,
    "mul":  3,
    "mulu": 3,
    "div":  10,
    "divu": 10,
    "lb":   5,
    "lbu":  5,
    "ls":   5,
    "lsu":  5,
    "li":   5,
    "liu":  5,
    "lw":   5,
    "sb":   1,
    "ss":   1,
    "si":   1,
    "sw":   1,
    "rand": 100,
    "call": 1,
    "jz":   1,
    "jnz":  1,
    "halt": 0,
    "ret":  1,
}
